<!doctype html>
<html lang="en">

<head>
    <meta charset="UTF-8" />
    <title>Making your first ScratchGame</title>
    <script src="lib/phaser.min.js"></script>
    <script src="lib/scratch_game.js"></script>
    <script src="lib/cloneSys.js"></script>
    <style type="text/css">
        body {
            margin: 0;
        }
    </style>
</head>

<body>

    <script type="text/javascript">
        let game = new ScratchGame(800, 600);
        game.preload = preload;
        game.create = create;
        game.update = update;

        let cloneTest;

        function preload() {
            this.loadImage('sky', 'assets/sky.png');
            this.loadImage('sea', 'assets/sea.jpg');
            this.loadImage('space', 'assets/space.jpg');

            this.loadImage('ground', 'assets/platform.png');
            this.loadImage('star', 'assets/star.png');
            this.loadImage('bomb', 'assets/bomb.png');
            this.loadSpritesheet('dude', 'assets/dude.png', 32, 48);
        }

        let cursors;

        function create() {
            planeTest = initPlane('dude', 100, 100, 32, 48, 10, 10);
            game.changeBackground('sky');
            console.log(planeTest.amount());

        }

        tick = 0;
        hide = 0;
        lines = 5;

        function update() {
            ++tick;

            if(tick % 25 == 0){
                ++hide;
                for(let x = 0; x < planeTest.sizeX; ++x){
                    for(let y = 0; y < planeTest.sizeY; ++y){
                        if((x + y) % lines == hide % lines){
                            planeTest.plane[x][y].visible = false;
                        } else {
                            planeTest.plane[x][y].visible = true;
                        }
                    }  
                }
            }

            if(game.isKeyDown('SPACE')){
                
            }
        }

    </script>

</body>

</html>